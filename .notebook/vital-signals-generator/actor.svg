<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="1240px" preserveAspectRatio="none" style="width:1545px;height:1240px;background:#FFFFFF;" version="1.1" viewBox="0 0 1545 1240" width="1545px" zoomAndPan="magnify"><title>Signalsboard.Hospital.Simulation &#8212; Akka.NET (Actor Model, Swimlanes)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="501.6182" x="520.4157" y="34.9659">Signalsboard.Hospital.Simulation &#8212; Akka.NET (Actor Model, Swimlanes)</text></g><rect fill="none" height="24.5158" style="stroke:none;stroke-width:1;" width="1512.4496" x="15" y="53.8419"/><ellipse cx="197.9092" cy="93.3577" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="185.5532" x="105.1326" y="123.3577"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="165.5532" x="115.1326" y="146.1858">Load VitalsOptions &amp; services</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="122.6607" x="136.5789" y="179.7018"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102.6607" x="146.5789" y="202.5299">Build ActorSystem</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="199.9772" x="97.9206" y="236.046"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179.9772" x="107.9206" y="258.874">Query patientIds (cap MaxBeds)</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="353.8185" x="21" y="618.1106"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="333.8185" x="31" y="640.9387">PeriodicTimer tick (Interval) -&gt; Tell Tick(now) to Coordinator</text><polygon fill="#F1F1F1" points="197.9092,574.1106,209.9092,586.1106,197.9092,598.1106,185.9092,586.1106,197.9092,574.1106" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="165.96,674.4548,229.8585,674.4548,241.8585,686.4548,229.8585,698.4548,165.96,698.4548,153.96,686.4548,165.96,674.4548" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63.8985" x="165.96" y="690.7227">app running</text><ellipse cx="197.9092" cy="1217.3545" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="197.9092" cy="1217.3545" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="53.8419" y2="1228.3545"/><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="141.5729" x="512.3372" y="292.3901"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121.5729" x="522.3372" y="315.2182">Spawn PatientActor[i]</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="342.6103" x="411.8185" y="348.7342"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="322.6103" x="421.8185" y="371.5623">Send Warmup(from=Now-10m,to=Now) to PatientActor[i]</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="186.5132" x="489.8671" y="517.7665"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="166.5132" x="499.8671" y="540.5946">Aggregate warmup (optional)</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="203.0853" x="481.581" y="718.4548"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="183.0853" x="491.581" y="741.2828">Fan-out Tick to all PatientActor[i]</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117.8607" x="524.1933" y="887.4871"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97.8607" x="534.1933" y="910.3152">Collect into batch</text><polygon fill="#F1F1F1" points="472.9759,943.8312,693.2714,943.8312,705.2714,955.8312,693.2714,967.8312,472.9759,967.8312,460.9759,955.8312,472.9759,943.8312" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="25.4868" x="587.1236" y="979.5901">flush</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="220.2954" x="472.9759" y="960.0992">batch &gt;= patientCount or window elapsed?</text><polygon fill="#F1F1F1" points="583.1236,1162.3545,595.1236,1174.3545,583.1236,1186.3545,571.1236,1174.3545,583.1236,1162.3545" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="405.8185" x2="405.8185" y1="53.8419" y2="1228.3545"/><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="232.8335" x="778.2169" y="405.0783"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="212.8335" x="788.2169" y="427.9064">Generate historical samples via Next()</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="260.4097" x="764.4288" y="461.4224"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="240.4097" x="774.4288" y="484.2505">Tell VitalGenerated(sample) -&gt; Coordinator</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="135.7168" x="826.7753" y="774.7989"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115.7168" x="836.7753" y="797.627">Next(patientId, now)</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="260.4097" x="764.4288" y="831.143"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="240.4097" x="774.4288" y="853.9711">Tell VitalGenerated(sample) -&gt; Coordinator</text><line style="stroke:#000000;stroke-width:1.5;" x1="758.4288" x2="758.4288" y1="53.8419" y2="1228.3545"/><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="215.3253" x="1034.8385" y="993.3222"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="195.3253" x="1044.8385" y="1016.1502">Tell VitalBatchGenerated(batch, at)</text><line style="stroke:#000000;stroke-width:1.5;" x1="1028.8385" x2="1028.8385" y1="53.8419" y2="1228.3545"/><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="158.781" x="1311.7462" y="1049.6663"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138.781" x="1321.7462" y="1072.4944">Buffer.Add(each sample)</text><rect fill="#F1F1F1" height="36.3441" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="261.9457" x="1260.1639" y="1106.0104"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="241.9457" x="1270.1639" y="1128.8385">Map to DTO; hub.Clients.All.PushVitals(dto)</text><line style="stroke:#000000;stroke-width:1.5;" x1="1254.1639" x2="1254.1639" y1="53.8419" y2="1228.3545"/><line style="stroke:#000000;stroke-width:1.5;" x1="1526.1096" x2="1526.1096" y1="53.8419" y2="1228.3545"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="103.3577" y2="123.3577"/><polygon fill="#181818" points="193.9092,113.3577,197.9092,123.3577,201.9092,113.3577,197.9092,117.3577" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="159.7018" y2="179.7018"/><polygon fill="#181818" points="193.9092,169.7018,197.9092,179.7018,201.9092,169.7018,197.9092,173.7018" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="216.046" y2="236.046"/><polygon fill="#181818" points="193.9092,226.046,197.9092,236.046,201.9092,226.046,197.9092,230.046" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="598.1106" y2="618.1106"/><polygon fill="#181818" points="193.9092,608.1106,197.9092,618.1106,201.9092,608.1106,197.9092,612.1106" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="241.8585" x2="386.8185" y1="686.4548" y2="686.4548"/><polygon fill="#181818" points="382.8185,646.2827,386.8185,636.2827,390.8185,646.2827,386.8185,642.2827" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="386.8185" x2="386.8185" y1="586.1106" y2="686.4548"/><line style="stroke:#181818;stroke-width:1;" x1="386.8185" x2="209.9092" y1="586.1106" y2="586.1106"/><polygon fill="#181818" points="219.9092,582.1106,209.9092,586.1106,219.9092,590.1106,215.9092,586.1106" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="654.4548" y2="674.4548"/><polygon fill="#181818" points="193.9092,664.4548,197.9092,674.4548,201.9092,664.4548,197.9092,668.4548" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="328.7342" y2="348.7342"/><polygon fill="#181818" points="579.1236,338.7342,583.1236,348.7342,587.1236,338.7342,583.1236,342.7342" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="460.9759" x2="442.1508" y1="955.8312" y2="955.8312"/><polygon fill="#181818" points="438.1508,1057.8383,442.1508,1067.8383,446.1508,1057.8383,442.1508,1061.8383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="442.1508" x2="442.1508" y1="955.8312" y2="1174.3545"/><line style="stroke:#181818;stroke-width:1;" x1="442.1508" x2="571.1236" y1="1174.3545" y2="1174.3545"/><polygon fill="#181818" points="561.1236,1170.3545,571.1236,1174.3545,561.1236,1178.3545,565.1236,1174.3545" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="923.8312" y2="943.8312"/><polygon fill="#181818" points="579.1236,933.8312,583.1236,943.8312,587.1236,933.8312,583.1236,937.8312" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="894.6337" y1="441.4224" y2="461.4224"/><polygon fill="#181818" points="890.6337,451.4224,894.6337,461.4224,898.6337,451.4224,894.6337,455.4224" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="894.6337" y1="811.143" y2="831.143"/><polygon fill="#181818" points="890.6337,821.143,894.6337,831.143,898.6337,821.143,894.6337,825.143" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1391.1367" x2="1391.1367" y1="1086.0104" y2="1106.0104"/><polygon fill="#181818" points="1387.1367,1096.0104,1391.1367,1106.0104,1395.1367,1096.0104,1391.1367,1100.0104" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="272.3901" y2="277.3901"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="583.1236" y1="277.3901" y2="277.3901"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="277.3901" y2="292.3901"/><polygon fill="#181818" points="579.1236,282.3901,583.1236,292.3901,587.1236,282.3901,583.1236,286.3901" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="385.0783" y2="390.0783"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="894.6337" y1="390.0783" y2="390.0783"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="894.6337" y1="390.0783" y2="405.0783"/><polygon fill="#181818" points="890.6337,395.0783,894.6337,405.0783,898.6337,395.0783,894.6337,399.0783" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="894.6337" y1="497.7665" y2="502.7665"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="583.1236" y1="502.7665" y2="502.7665"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="502.7665" y2="517.7665"/><polygon fill="#181818" points="579.1236,507.7665,583.1236,517.7665,587.1236,507.7665,583.1236,511.7665" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="554.1106" y2="559.1106"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="197.9092" y1="559.1106" y2="559.1106"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="559.1106" y2="574.1106"/><polygon fill="#181818" points="193.9092,564.1106,197.9092,574.1106,201.9092,564.1106,197.9092,568.1106" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="698.4548" y2="703.4548"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="583.1236" y1="703.4548" y2="703.4548"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="703.4548" y2="718.4548"/><polygon fill="#181818" points="579.1236,708.4548,583.1236,718.4548,587.1236,708.4548,583.1236,712.4548" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="754.7989" y2="759.7989"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="894.6337" y1="759.7989" y2="759.7989"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="894.6337" y1="759.7989" y2="774.7989"/><polygon fill="#181818" points="890.6337,764.7989,894.6337,774.7989,898.6337,764.7989,894.6337,768.7989" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="894.6337" y1="867.4871" y2="872.4871"/><line style="stroke:#181818;stroke-width:1;" x1="894.6337" x2="583.1236" y1="872.4871" y2="872.4871"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="872.4871" y2="887.4871"/><polygon fill="#181818" points="579.1236,877.4871,583.1236,887.4871,587.1236,877.4871,583.1236,881.4871" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1142.5012" x2="1142.5012" y1="1029.6663" y2="1034.6663"/><line style="stroke:#181818;stroke-width:1;" x1="1142.5012" x2="1391.1367" y1="1034.6663" y2="1034.6663"/><line style="stroke:#181818;stroke-width:1;" x1="1391.1367" x2="1391.1367" y1="1034.6663" y2="1049.6663"/><polygon fill="#181818" points="1387.1367,1039.6663,1391.1367,1049.6663,1395.1367,1039.6663,1391.1367,1043.6663" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="967.8312" y2="980.5767"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="1142.5012" y1="980.5767" y2="980.5767"/><line style="stroke:#181818;stroke-width:1;" x1="1142.5012" x2="1142.5012" y1="980.5767" y2="993.3222"/><polygon fill="#181818" points="1138.5012,983.3222,1142.5012,993.3222,1146.5012,983.3222,1142.5012,987.3222" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1391.1367" x2="1391.1367" y1="1142.3545" y2="1149.609"/><line style="stroke:#181818;stroke-width:1;" x1="1391.1367" x2="583.1236" y1="1149.609" y2="1149.609"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="1149.609" y2="1162.3545"/><polygon fill="#181818" points="579.1236,1152.3545,583.1236,1162.3545,587.1236,1152.3545,583.1236,1156.3545" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="583.1236" y1="1186.3545" y2="1191.3545"/><line style="stroke:#181818;stroke-width:1;" x1="583.1236" x2="197.9092" y1="1191.3545" y2="1191.3545"/><line style="stroke:#181818;stroke-width:1;" x1="197.9092" x2="197.9092" y1="1191.3545" y2="1206.3545"/><polygon fill="#181818" points="193.9092,1196.3545,197.9092,1206.3545,201.9092,1196.3545,197.9092,1200.3545" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="104.4714" x="158.1736" y="73.0838">Host / Timer</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="162.791" x="500.7281" y="73.0838">Coordinator (Actor)</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="121.3552" x="832.956" y="73.0838">PatientActor[i]</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="147.5991" x="1067.7017" y="73.0838">BroadcasterActor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="245.5005" x="1267.3865" y="73.0838">SignalR Broadcaster (Service)</text><!--SRC=[hLFDZjCm4BxdAUQ47AaRuDfg5xNbRoNQBQI20-8mZIUDLSUsR6UpA_N0G_24F0aJPnUwm4eSk5cVyltCbvceeYOerTwW3ZkBNXPlRN0geYvArNOQex86ld_z1lF30Olrgos8UHMjXvMLf2TGzghLQ2ZaMNPaReIdi5Kj-MCM8lgOJTzPbF1na0nNRf0By0G2-MjLKPXbqqMdj8GaMjw6I2rZxploj-3OdKoyb054XGvMUBCW6V8PMosjzL8P7AACYV9ZDYqTzWOs8o-XdzKNrYl9IFY4lksSgBrjpzUsFtl-h9r4EpnpYFPFLdRy3MA3DsJ8OoHeL61GLQWXOEiq1RXM26kwYO83JhUazJZrFKMAySCSpYxW9FxZqyptUq_xmQrFqK7OL23gLC73jZqvGgvxGrvPgQe4GrJL0SIbYTmtqmRhb6pBk31tapy8C-f0toZU387EWU-CKMQVFvhpDPepsyKaEkWX6_nJcwcjdtzv0aEW_zJTqcfDLGHbED0EOzNCCbM3I4-uEBzVhgNjJ0Iczif8smDfT87a2owc8GEYrbreyWpWkF2yo1NoXlhaScJm9EfY4FwLD_bC02CFnEJnn3x0YGY8SZo2F2ajkhecNyob58GSyMxWWJrTyVBp62-tLpDekbsnr4FqKCorBZQSRxmk8QFbxtdLLVsNOxJk1m00]--></g></svg>